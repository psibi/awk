<!doctype html>
<html lang="en">
<head>
<title></title>
<!-- 2020-11-25 Wed 22:02 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Sibi Prabakaran">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script><link  href="./main.css" rel="stylesheet">
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="https://psibi.in/awk/"> UP </a>
 |
 <a accesskey="H" href="https://psibi.in/"> HOME </a>
</div><div id="content" class="container">
<div class="row"><div class="col-md-3 col-md-push-9"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. The AWK Language</a></li>
<li><a href="#sec-2">2. The Input File countries</a></li>
<li><a href="#sec-3">3. Program Format</a></li>
<li><a href="#sec-4">4. Patterns</a>
<ul class="nav">
<li><a href="#sec-4-1">4.1. BEGIN and END</a></li>
<li><a href="#sec-4-2">4.2. Expressions as Patterns</a></li>
<li><a href="#sec-4-3">4.3. String-Mattching Patterns</a></li>
<li><a href="#sec-4-4">4.4. Regular Expression</a></li>
<li><a href="#sec-4-5">4.5. Compound Patters</a></li>
<li><a href="#sec-4-6">4.6. Range patterns</a></li>
<li><a href="#sec-4-7">4.7. Summary of Patterns</a></li>
</ul>
</li>
<li><a href="#sec-5">5. Actions</a>
<ul class="nav">
<li><a href="#sec-5-1">5.1. Strings as Regular Expressions</a></li>
<li><a href="#sec-5-2">5.2. Built-In String Functions</a></li>
<li><a href="#sec-5-3">5.3. Number or String?</a></li>
<li><a href="#sec-5-4">5.4. Control Flow Statements</a></li>
<li><a href="#sec-5-5">5.5. Empty Statement</a></li>
<li><a href="#sec-5-6">5.6. Arrays</a></li>
<li><a href="#sec-5-7">5.7. Delete startement</a></li>
</ul>
</li>
<li><a href="#sec-6">6. User-Defined Functions</a></li>
<li><a href="#sec-7">7. Output</a>
<ul class="nav">
<li><a href="#sec-7-1">7.1. Output Separators</a></li>
<li><a href="#sec-7-2">7.2. printf</a></li>
<li><a href="#sec-7-3">7.3. Output into Files</a></li>
<li><a href="#sec-7-4">7.4. Output into Pipes</a></li>
<li><a href="#sec-7-5">7.5. Closing Files and pipes</a></li>
</ul>
</li>
<li><a href="#sec-8">8. Input</a>
<ul class="nav">
<li><a href="#sec-8-1">8.1. Input Separators</a></li>
<li><a href="#sec-8-2">8.2. Multiline Records</a></li>
<li><a href="#sec-8-3">8.3. The getline Function</a></li>
<li><a href="#sec-8-4">8.4. Command Line Arguments</a></li>
</ul>
</li>
<li><a href="#sec-9">9. Interaction with Other Programs</a>
<ul class="nav">
<li><a href="#sec-9-1">9.1. The system Function</a></li>
</ul>
</li>
<li><a href="#sec-10">10. Built in variables</a></li>
</ul>
</div>
</nav>
</div><div class="col-md-9 col-md-pull-3"><h1 class="title"></h1>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> The AWK Language</h2>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> The Input File countries</h2>
<div class="outline-text-2" id="text-2">
<div class="highlight"><pre><span></span>$ cat countries
</pre></div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">

<col  class="right">

<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left">USSR</td>
<td class="text-right">8649</td>
<td class="text-right">275</td>
<td class="text-left">Asia</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Canada</td>
<td class="text-right">3852</td>
<td class="text-right">25</td>
<td class="text-left">North</td>
<td class="text-left">America</td>
</tr>

<tr>
<td class="text-left">China</td>
<td class="text-right">3705</td>
<td class="text-right">1032</td>
<td class="text-left">Asia</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">USA</td>
<td class="text-right">3615</td>
<td class="text-right">237</td>
<td class="text-left">North</td>
<td class="text-left">America</td>
</tr>

<tr>
<td class="text-left">Brazil</td>
<td class="text-right">3286</td>
<td class="text-right">134</td>
<td class="text-left">South</td>
<td class="text-left">America</td>
</tr>

<tr>
<td class="text-left">India</td>
<td class="text-right">1267</td>
<td class="text-right">746</td>
<td class="text-left">Asia</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Mexico</td>
<td class="text-right">762</td>
<td class="text-right">78</td>
<td class="text-left">North</td>
<td class="text-left">America</td>
</tr>

<tr>
<td class="text-left">France</td>
<td class="text-right">211</td>
<td class="text-right">55</td>
<td class="text-left">Europe</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Japan</td>
<td class="text-right">144</td>
<td class="text-right">120</td>
<td class="text-left">Asia</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Germany</td>
<td class="text-right">96</td>
<td class="text-right">61</td>
<td class="text-left">Europe</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left">England</td>
<td class="text-right">94</td>
<td class="text-right">56</td>
<td class="text-left">Europe</td>
<td class="text-left">&#xa0;</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>Fisrt column: Name of a country
</li>
<li>Second column: Area in thousands of square miles
</li>
<li>Third column: Population in millions
</li>
<li>Foruth column: Continent it is in
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Program Format</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Pattern-action statements and the statements within an action are
usually separated by newlines, but several statements may appear on
one line if they are separated by semicolons. A semicolon may be put
at the end of any statement.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Patterns</h2>
<div class="outline-text-2" id="text-4">

<figure>
<p><img src="assets/patterns.png" class="img-responsive" alt="patterns.png">
</p>
</figure>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> BEGIN and END</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>One common use of a BEGIN action is to change the default way that
input lines are split into fields. The field separator is controlled
by a built-in variable called <code>FS</code>.
</li>
<li>By default, fields are separated by blanks and/or tabs; this
behavior occurs when <code>FS</code> is set to a blank.
</li>
<li>Setting FS to any character other than a blank makes that character
the field separator.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Expressions as Patterns</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>The string <code>""</code> which contains no characters, is called the <i>null</i>
string.
</li>
</ul>


<figure>
<p><img src="assets/comparion_operators.png" class="img-responsive" alt="comparion_operators.png">
</p>
</figure>

<ul class="org-ul">
<li>In a relational comparison, if both operands are numeric, a numeric
comparison is made; otherwise, any numeric operand is converted to a
string, and then the operands are compared as strings.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> String-Mattching Patterns</h3>
<div class="outline-text-3" id="text-4-3">

<figure>
<p><img src="assets/string_matching_patterns.png" class="img-responsive" alt="string_matching_patterns.png">
</p>
</figure>

<div class="highlight"><pre><span></span><span class="sr">/Asia/</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
China 3705 1032 Asia
India 1267 746 Asia
Japan 144 120 Asia
</pre>


<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">4</span> <span class="o">~</span> <span class="sr">/Asia/</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
China 3705 1032 Asia
India 1267 746 Asia
Japan 144 120 Asia
</pre>


<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">4</span> <span class="o">!~</span> <span class="sr">/Asia/</span>
</pre></div>

<pre class="example">
Canada 3852 25 North America
USA 3615 237 North America
Brazil 3286 134 South America
Mexico 762 78 North America
France 211 55 Europe
Germany 96 61 Europe
England 94 56 Europe
</pre>


<p>
Note that <code>/Asia/</code> is a shorthand for <code>$0 ~ /Asia/</code>
</p>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Regular Expression</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>A regular expression is a notation for specifying and matching
strings.
</li>
</ul>


<figure>
<p><img src="assets/re.png" class="img-responsive" alt="re.png">
</p>
</figure>


<figure>
<p><img src="assets/regular_expressions.png" class="img-responsive" alt="regular_expressions.png">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Compound Patters</h3>
<div class="outline-text-3" id="text-4-5">
<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">4</span> <span class="o">==</span> <span class="s2">&quot;Asia&quot;</span> <span class="o">||</span> <span class="o">$</span><span class="mi">4</span> <span class="o">==</span> <span class="s2">&quot;Europe&quot;</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
China 3705 1032 Asia
India 1267 746 Asia
France 211 55 Europe
Japan 144 120 Asia
Germany 96 61 Europe
England 94 56 Europe
</pre>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> Range patterns</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li>A range pattern consists of two patterns separated by a comma, as in
</li>
</ul>

<pre class="example">
pat_1, pat_2
</pre>

<div class="highlight"><pre><span></span><span class="sr">/Europe/</span><span class="p">,</span> <span class="sr">/Asia/</span>
</pre></div>

<pre class="example">
France 211 55 Europe
Japan 144 120 Asia
Germany 96 61 Europe
England 94 56 Europe
</pre>


<ul class="org-ul">
<li><code>FNR</code>: is the line number just read from the current input
file. It's another built in variable.
</li>
<li><code>FILENAME</code>: Builtin variable representing the filename.
</li>
</ul>

<div class="highlight"><pre><span></span><span class="nb">FNR</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">FNR</span> <span class="o">==</span> <span class="mi">5</span> <span class="p">{</span> <span class="kr">print</span> <span class="nb">FILENAME</span> <span class="s2">&quot;: &quot;</span> <span class="o">$</span><span class="mi">0</span> <span class="p">}</span>
</pre></div>

<pre class="example">
countries: USSR 8649 275 Asia
countries: Canada 3852 25 North America
countries: China 3705 1032 Asia
countries: USA 3615 237 North America
countries: Brazil 3286 134 South America
</pre>


<p>
In the above output it prints from line number 1 to 5.
</p>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><span class="section-number-3">4.7</span> Summary of Patterns</h3>
<div class="outline-text-3" id="text-4-7">

<figure>
<p><img src="assets/patterns2.png" class="img-responsive" alt="patterns2.png">
</p>
</figure>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Actions</h2>
<div class="outline-text-2" id="text-5">

<figure>
<p><img src="assets/actions.png" class="img-responsive" alt="actions.png">
</p>
</figure>


<figure>
<p><img src="assets/expressions.png" class="img-responsive" alt="expressions.png">
</p>
</figure>

<ul class="org-ul">
<li>Total population of Asian countries
</li>
</ul>

<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">4</span> <span class="o">==</span> <span class="s2">&quot;Asia&quot;</span> <span class="p">{</span> <span class="nx">pop</span> <span class="o">=</span> <span class="nx">pop</span> <span class="o">+</span> <span class="o">$</span><span class="mi">3</span><span class="p">;</span> <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span>
<span class="nb">END</span>          <span class="p">{</span> <span class="kr">print</span> <span class="s2">&quot;Total population of the&quot;</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span>
                     <span class="s2">&quot;Asian countries is&quot;</span><span class="p">,</span> <span class="nx">pop</span><span class="p">,</span> <span class="s2">&quot;million.&quot;</span>
             <span class="p">}</span>
</pre></div>

<pre class="example">
Total population of the 4 Asian countries is 2173 million.
</pre>


<ul class="org-ul">
<li>Find largest population:
</li>
</ul>

<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">3</span> <span class="o">&gt;</span> <span class="nx">maxpop</span> <span class="p">{</span> <span class="nx">maxpop</span> <span class="o">=</span> <span class="o">$</span><span class="mi">3</span><span class="p">;</span> <span class="nx">country</span> <span class="o">=</span> <span class="o">$</span><span class="mi">1</span> <span class="p">}</span>
<span class="nb">END</span>         <span class="p">{</span> <span class="kr">print</span> <span class="s2">&quot;country with larget population:&quot;</span><span class="p">,</span> <span class="nx">country</span><span class="p">,</span> <span class="nx">maxpop</span> <span class="p">}</span>
</pre></div>

<pre class="example">
country with larget population: China 1032
</pre>



<figure>
<p><img src="assets/builtin_arith.png" class="img-responsive" alt="builtin_arith.png">
</p>
</figure>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Strings as Regular Expressions</h3>
<div class="outline-text-3" id="text-5-1">
<div class="highlight"><pre><span></span><span class="nb">BEGIN</span> <span class="p">{</span> <span class="nx">digits</span> <span class="o">=</span> <span class="s2">&quot;^[0-9]+$&quot;</span><span class="p">}</span>
<span class="o">$</span><span class="mi">2</span> <span class="o">~</span> <span class="nx">digits</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
Canada 3852 25 North America
China 3705 1032 Asia
USA 3615 237 North America
Brazil 3286 134 South America
India 1267 746 Asia
Mexico 762 78 North America
France 211 55 Europe
Japan 144 120 Asia
Germany 96 61 Europe
England 94 56 Europe
</pre>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Built-In String Functions</h3>
<div class="outline-text-3" id="text-5-2">

<figure>
<p><img src="assets/builtin_string.png" class="img-responsive" alt="builtin_string.png">
</p>
</figure>

<div class="highlight"><pre><span></span><span class="p">{</span> <span class="kr">gsub</span><span class="p">(</span><span class="sr">/USA/</span><span class="p">,</span> <span class="s2">&quot;United States&quot;</span><span class="p">);</span> <span class="kr">print</span><span class="p">}</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
Canada 3852 25 North America
China 3705 1032 Asia
United States 3615 237 North America
Brazil 3286 134 South America
India 1267 746 Asia
Mexico 762 78 North America
France 211 55 Europe
Japan 144 120 Asia
Germany 96 61 Europe
England 94 56 Europe
</pre>

<div class="highlight"><pre><span></span><span class="p">{</span> <span class="kr">gsub</span><span class="p">(</span><span class="sr">/Asia/</span><span class="p">,</span> <span class="s2">&quot;Asiana&quot;</span><span class="p">,</span> <span class="o">$</span><span class="mi">4</span><span class="p">);</span> <span class="kr">print</span> <span class="o">$</span><span class="mi">0</span><span class="p">}</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asiana
Canada 3852 25 North America
China 3705 1032 Asiana
USA 3615 237 North America
Brazil 3286 134 South America
India 1267 746 Asiana
Mexico 762 78 North America
France 211 55 Europe
Japan 144 120 Asiana
Germany 96 61 Europe
England 94 56 Europe
</pre>

<ul class="org-ul">
<li>The function <code>substr(s,p)</code> returns the fuffix of <code>s</code> that begins at
position <code>p</code>. If <code>substr(s,p,n)</code> is used, only the first <code>n</code>
characters of the suffix are returned.
</li>
</ul>

<div class="highlight"><pre><span></span><span class="p">{</span> <span class="o">$</span><span class="mi">1</span> <span class="o">=</span> <span class="kr">substr</span><span class="p">(</span><span class="o">$</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="kr">print</span> <span class="o">$</span><span class="mi">0</span><span class="p">}</span>
</pre></div>

<pre class="example">
USS 8649 275 Asia
Can 3852 25 North America
Chi 3705 1032 Asia
USA 3615 237 North America
Bra 3286 134 South America
Ind 1267 746 Asia
Mex 762 78 North America
Fra 211 55 Europe
Jap 144 120 Asia
Ger 96 61 Europe
Eng 94 56 Europe
</pre>

<div class="highlight"><pre><span></span>    <span class="p">{</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span> <span class="kr">substr</span><span class="p">(</span><span class="o">$</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="s2">&quot; &quot;</span><span class="p">}</span>
<span class="nb">END</span> <span class="p">{</span> <span class="kr">print</span> <span class="nx">s</span> <span class="p">}</span>
</pre></div>

<pre class="example">
USS Can Chi USA Bra Ind Mex Fra Jap Ger Eng
</pre>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Number or String?</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li>The value of an expression may be automatically converted from a
number to a string or vice versa, depending on what operation is
applied to it.
</li>
<li>In an arithmetic expression like <code>pop + $3</code>, the operands <code>pop</code> and
<code>$3</code> must be numeric, so their values will be forced or coerced to
numbers if they are not already.
</li>
<li>In a string expression like <code>$1 $2</code> the operands <code>$1</code> and <code>$2</code> must
be strings to be concatenated, so they will be coerced to strings if
necessary.
</li>
<li>There are two idioms for coercing an expression of one type to the
other:
<ul class="org-ul">
<li><code>number ""</code> concatenate a null string to <code>number</code> to coerce it to a string
</li>
<li><code>string + 0</code> add zero to <code>string</code> to coerce it to a number
</li>
</ul>
</li>
</ul>


<figure>
<p><img src="assets/expression_operators.png" class="img-responsive" alt="expression_operators.png">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4"><span class="section-number-3">5.4</span> Control Flow Statements</h3>
<div class="outline-text-3" id="text-5-4">

<figure>
<p><img src="assets/control_flow.png" class="img-responsive" alt="control_flow.png">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5"><span class="section-number-3">5.5</span> Empty Statement</h3>
<div class="outline-text-3" id="text-5-5">
<ul class="org-ul">
<li>Semicolon denotes the empty statement.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6"><span class="section-number-3">5.6</span> Arrays</h3>
<div class="outline-text-3" id="text-5-6">
<ul class="org-ul">
<li>Awk provides one-dimensional arrays for storing strings and numbrs.
</li>
<li>Printing file in reverse:
</li>
</ul>

<div class="highlight"><pre><span></span>    <span class="p">{</span> <span class="nx">x</span><span class="p">[</span><span class="nb">NR</span><span class="p">]</span> <span class="o">=</span> <span class="o">$</span><span class="mi">0</span> <span class="p">}</span>
<span class="nb">END</span> <span class="p">{</span> <span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nb">NR</span><span class="p">;</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="kr">print</span> <span class="nx">x</span><span class="p">[</span><span class="nx">i</span><span class="p">]}</span>
</pre></div>

<pre class="example">
England 94 56 Europe
Germany 96 61 Europe
Japan 144 120 Asia
France 211 55 Europe
Mexico 762 78 North America
India 1267 746 Asia
Brazil 3286 134 South America
USA 3615 237 North America
China 3705 1032 Asia
Canada 3852 25 North America
USSR 8649 275 Asia
</pre>

<ul class="org-ul">
<li>Finding asian and european population:
</li>
</ul>

<div class="highlight"><pre><span></span><span class="sr">/Asia/</span>   <span class="p">{</span> <span class="nx">pop</span><span class="p">[</span><span class="s2">&quot;Asia&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="o">$</span><span class="mi">3</span> <span class="p">}</span>
<span class="sr">/Europe/</span> <span class="p">{</span> <span class="nx">pop</span><span class="p">[</span><span class="s2">&quot;Europe&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="o">$</span><span class="mi">3</span> <span class="p">}</span>
<span class="nb">END</span>      <span class="p">{</span> <span class="kr">print</span> <span class="s2">&quot;Asian population is&quot;</span><span class="p">,</span> <span class="nx">pop</span><span class="p">[</span><span class="s2">&quot;Asia&quot;</span><span class="p">],</span> <span class="s2">&quot;million.&quot;</span>
           <span class="kr">print</span> <span class="s2">&quot;European population is&quot;</span><span class="p">,</span> <span class="nx">pop</span><span class="p">[</span><span class="s2">&quot;Europe&quot;</span><span class="p">],</span> <span class="s2">&quot;million.&quot;</span>
         <span class="p">}</span>
</pre></div>

<pre class="example">
Asian population is 2173 million.
European population is 172 million.
</pre>
</div>
</div>

<div id="outline-container-sec-5-7" class="outline-3">
<h3 id="sec-5-7"><span class="section-number-3">5.7</span> Delete startement</h3>
<div class="outline-text-3" id="text-5-7">
<ul class="org-ul">
<li>An array element may be deleted with <code>delete array[subscript]</code>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> User-Defined Functions</h2>
<div class="outline-text-2" id="text-6">
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">name</span><span class="p">(</span><span class="nx">parameter</span><span class="o">-</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">statements</span>
<span class="p">}</span>
</pre></div>

<ul class="org-ul">
<li>Example code:
</li>
</ul>

<div class="highlight"><pre><span></span><span class="p">{</span> <span class="kr">print</span> <span class="nx">max</span><span class="p">(</span><span class="o">$</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="mi">3</span><span class="p">)</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">max</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span> <span class="err">?</span> <span class="nx">a</span> <span class="err">:</span> <span class="nx">b</span>
<span class="p">}</span>
</pre></div>

<pre class="example">
8649
3852
3705
3615
3286
1267
762
211
144
96
94
</pre>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Output</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li><code>print</code> and <code>printf</code> statements generate output.
</li>
</ul>


<figure>
<p><img src="assets/output.png" class="img-responsive" alt="output.png">
</p>
</figure>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Output Separators</h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li><code>OFS</code>: Built-in variable representing output field separator.
</li>
<li><code>ORS</code>: Built-in variable representing output record separator.
</li>
</ul>

<div class="highlight"><pre><span></span><span class="nb">BEGIN</span> <span class="p">{</span> <span class="nb">OFS</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="p">;</span> <span class="nx">ORS</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="p">}</span>
      <span class="p">{</span> <span class="kr">print</span> <span class="o">$</span><span class="mi">1</span><span class="p">,</span> <span class="o">$</span><span class="mi">2</span> <span class="p">}</span>
</pre></div>

<pre class="example">
USSR:8649|Canada:3852|China:3705|USA:3615|Brazil:3286|India:1267|Mexico:762|France:211|Japan:144|Germany:96|England:94|
</pre>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> printf</h3>
<div class="outline-text-3" id="text-7-2">

<figure>
<p><img src="assets/printf.png" class="img-responsive" alt="printf.png">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> Output into Files</h3>
<div class="outline-text-3" id="text-7-3">
<ul class="org-ul">
<li>The redirection operators <code>&gt;</code> and <code>&gt;&gt;</code> are used to put outputs into
files instead of the standard output.
</li>
<li>Example program to write to two files based on smaller and big
population:
</li>
</ul>

<div class="highlight"><pre><span></span><span class="o">$</span><span class="mi">3</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="p">{</span> <span class="kr">print</span> <span class="o">$</span><span class="mi">1</span><span class="p">,</span> <span class="o">$</span><span class="mi">3</span> <span class="o">&gt;</span><span class="s2">&quot;bigpop&quot;</span><span class="p">}</span>
<span class="o">$</span><span class="mi">3</span> <span class="o">&lt;=</span> <span class="mi">100</span> <span class="p">{</span> <span class="kr">print</span> <span class="o">$</span><span class="mi">1</span><span class="p">,</span> <span class="o">$</span><span class="mi">3</span> <span class="o">&gt;</span><span class="s2">&quot;smallpop&quot;</span><span class="p">}</span>
</pre></div>

<div class="highlight"><pre><span></span>$ <span class="nb">echo</span> bigpop
$ bat bigpop
$ <span class="nb">echo</span> <span class="s2">&quot;---\n smallpop&quot;</span>
$ bat smallpop
</pre></div>

<table class="table table-striped table-bordered table-hover table-condensed">


<colgroup>
<col  class="left">

<col  class="right">
</colgroup>
<tbody>
<tr>
<td class="text-left">bigpop</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">USSR</td>
<td class="text-right">275</td>
</tr>

<tr>
<td class="text-left">China</td>
<td class="text-right">1032</td>
</tr>

<tr>
<td class="text-left">USA</td>
<td class="text-right">237</td>
</tr>

<tr>
<td class="text-left">Brazil</td>
<td class="text-right">134</td>
</tr>

<tr>
<td class="text-left">India</td>
<td class="text-right">746</td>
</tr>

<tr>
<td class="text-left">Japan</td>
<td class="text-right">120</td>
</tr>

<tr>
<td class="text-left">---</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">smallpop</td>
<td class="text-right">&#xa0;</td>
</tr>

<tr>
<td class="text-left">Canada</td>
<td class="text-right">25</td>
</tr>

<tr>
<td class="text-left">Mexico</td>
<td class="text-right">78</td>
</tr>

<tr>
<td class="text-left">France</td>
<td class="text-right">55</td>
</tr>

<tr>
<td class="text-left">Germany</td>
<td class="text-right">61</td>
</tr>

<tr>
<td class="text-left">England</td>
<td class="text-right">56</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>If <code>&gt;&gt;</code> is used, the file is not cleared; output is appended after
the original contents.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> Output into Pipes</h3>
<div class="outline-text-3" id="text-7-4">
<ul class="org-ul">
<li>Let's sort continents by population:
</li>
</ul>

<div class="highlight"><pre><span></span>    <span class="p">{</span> <span class="nx">pop</span><span class="p">[</span><span class="o">$</span><span class="mi">4</span><span class="p">]</span> <span class="o">+=</span> <span class="o">$</span><span class="mi">3</span> <span class="p">}</span>
<span class="nb">END</span> <span class="p">{</span> <span class="k">for</span> <span class="p">(</span><span class="nx">c</span> <span class="o">in</span> <span class="nx">pop</span><span class="p">)</span>
        <span class="kr">printf</span><span class="p">(</span><span class="s2">&quot;%-7s %d\n&quot;</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">pop</span><span class="p">[</span><span class="nx">c</span><span class="p">])</span> <span class="o">|</span> <span class="s2">&quot;sort -r -n -k2,2&quot;</span>
    <span class="p">}</span>
</pre></div>

<pre class="example">
Asia    2173
North   340
Europe  172
South   134
</pre>
</div>
</div>

<div id="outline-container-sec-7-5" class="outline-3">
<h3 id="sec-7-5"><span class="section-number-3">7.5</span> Closing Files and pipes</h3>
<div class="outline-text-3" id="text-7-5">
<ul class="org-ul">
<li>The statement <code>close(expr)</code> closes a file or pipe denoted by <code>expr</code>;
the string value of <code>expr</code> must be the same as the string used to
create the file or pipe in the first place.
</li>
<li>Thus, <code>close("sort -r -n k2,2")</code> closes the sort pipe opened above.
</li>
<li><code>close</code> is necessary if you intend to write a file, then read it
later in the same program.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Input</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Input Separators</h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>The default built-in variable <code>FS</code> is <code>" "</code> a single blank. When
<code>FS</code> has this value, input fields are separated by blanks and/or
tabs. Note that the leading blanks and tabs are discarded. When <code>FS</code>
has other value, the leading blanks and tabs are not discarded.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Multiline Records</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li>By default records are separated by newlines. The terms "line" and
"record" are normally synonymous.
</li>
<li><code>RS</code>: Built in record separator variable. Default value: <code>"\n"</code>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> The getline Function</h3>
<div class="outline-text-3" id="text-8-3">
<ul class="org-ul">
<li>Can be used to read input from the current input or from a file or
pipe.
</li>
</ul>


<figure>
<p><img src="assets/getline.png" class="img-responsive" alt="getline.png">
</p>
</figure>
</div>
</div>

<div id="outline-container-sec-8-4" class="outline-3">
<h3 id="sec-8-4"><span class="section-number-3">8.4</span> Command Line Arguments</h3>
<div class="outline-text-3" id="text-8-4">
<div class="highlight"><pre><span></span>$ awk -f progfile a v=1 b
</pre></div>

<ul class="org-ul">
<li><code>ARGC</code> has the value 4.
</li>
<li><code>ARGV[1]</code> contains a
</li>
<li><code>ARGV[2]</code> contains v=1
</li>
<li><code>ARGV[3]</code> contains b
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Interaction with Other Programs</h2>
<div class="outline-text-2" id="text-9">
</div><div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> The system Function</h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li>The built-in function system(expression) executes the command given
by the string value of expression. The value returned by system is
the status returned by the command executed.
</li>
</ul>

<div class="highlight"><pre><span></span><span class="sr">/Asia/</span> <span class="p">{</span> <span class="kr">system</span><span class="p">(</span><span class="s2">&quot;echo &quot;</span> <span class="o">$</span><span class="mi">0</span><span class="p">)}</span>
</pre></div>

<pre class="example">
USSR 8649 275 Asia
China 3705 1032 Asia
India 1267 746 Asia
Japan 144 120 Asia
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Built in variables</h2>
<div class="outline-text-2" id="text-10">

<figure>
<p><img src="assets/builtin_variables.png" class="img-responsive" alt="builtin_variables.png">
</p>
</figure>
</div>
</div>
</div></div></div>
<footer id="postamble" class="">
<div><p class="author">Author: Sibi Prabakaran</p>
<p class="date">Created: 2020-11-25 Wed 22:02</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 27.1 (<a href="http://orgmode.org">Org-mode</a> 9.4)</p>
</div>
</footer>
</body>
</html>
